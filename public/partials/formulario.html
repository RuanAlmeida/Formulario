<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header navbar-left">
            <h4 class="navbar-text"><span class="glyphicon glyphicon-signal" id="iconeBrand"></span> INTERNET PARA TODOS</h4>
        </div>
    </div>
</nav>

<div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">
                <pagination boundary-links="true" max-size="5" items-per-page="itemsPerPage" total-items="formFiltrado.length" ng-model="currentPage" ng-change="pageChanged()"></pagination>
            </div>
            <div class="col-md-1">
                <input type="button" class="btn btn-default btnCleanFilter" ng-click="cleanFilter()" value="Limpar Filtros">
            </div>
            <div class="col-md-1 quantItens">
                <p ng-if='formFiltrado.length == 1'><strong>{{formFiltrado.length}} item</strong></p>
                <p ng-if='formFiltrado.length != 1'><strong>{{formFiltrado.length}} itens</strong></p>
            </div>
            <div class="col-md-offset-11">
                <a href="/excel" target="_blank" class="btn btn-success">Gerar Excel</a>
            </div>
        </div>
    </div>

    <div class="container-fluid">

        <form ng-submit="submeter(forms)" name="formIpt">
            <div id="table">
                <table class="table table-striped table-bordered table-hover table-responsive">
                    <thead>
                        <tr class="tr-config">
                            <th><strong>Código IBGE</strong><br></th>
                            <th ng-class="{'has-success': est != null}"><strong>Estado</strong><br>
                                <select ng-class="{'has-color': est != null}" class="form-control inputTh" ng-change="filtroGeral();selectMunicipio(est);" ng-model="est" ng-options="est.uf as est.nome for est in estados">
                                <option value="">Nenhum</option>
                            </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': muni != null}"><strong>Município</strong><br>
                                <select ng-class="{'has-color': muni != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="muni" ng-options="muni.cod_ibge as muni.nome_municipio for muni in municipios">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': muniCont != null}"><strong>Município contatado</strong><br>
                                <select ng-class="{'has-color': muniCont != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="muniCont" ng-options="sn.value as sn.value for sn in simNao">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': emailEnv != null}"><strong>Emails enviados (Ofício)</strong><br>
                                <select ng-class="{'has-color': emailEnv != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="emailEnv" ng-options="ofice.value as ofice.value for ofice in ofiEnv">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': recibOfi != null}"><strong>Recebimento ofício</strong><br>
                                <select ng-class="{'has-color': recibOfi != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="recibOfi" ng-options="sn.value as sn.value for sn in simNao">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': linkEnv != null}"><strong>Link Enviado</strong><br>
                                <select ng-class="{'has-color': linkEnv != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="linkEnv" ng-options="lk.value as lk.value for lk in link">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': terAde != null}"><strong>Assinatura Prefeito</strong><br>
                                <select ng-class="{'has-color': terAde != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="terAde" ng-options="sn.value as sn.value for sn in simNao">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': termOk != null}"><strong>Termo Ok</strong><br>
                                <select ng-class="{'has-color': termOk != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="termOk" ng-options="sn.value as sn.value for sn in termOkAba">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th ng-class="{'has-success': minSei != null}"><strong>Ministro SEI</strong><br>
                                <select ng-class="{'has-color': minSei != null}" name="" id="" class="form-control inputTh" ng-change="filtroGeral()" ng-model="minSei" ng-options="sn.value as sn.value for sn in simNao">
                            <option value="">Nenhum</option>
                        </select>
                                <div id="lupa"></div>
                            </th>
                            <th>Número SEI</th>
                            <th><strong>Nome do prefeito(a)</strong></th>
                            <th><strong>Solicitante</strong></th>
                            <th><strong>Telefone</strong></th>
                            <th><strong>Email</strong></th>
                            <th><strong>Email oficial</strong></th>
                            <th id="obsLabel"><strong>Observação</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-if="filteredTodos == ''">
                            <td colspan="15" align="center">Nenhum registro encontrado.</td>
                        </tr>
                        <tr ng-if="filteredTodos != ''" ng-repeat="form in filteredTodos">
                            <td>
                                {{form.cod_ibge}}
                            </td>
                            <td>
                                {{form.uf}}  <!--input type="button" id="btnInvisivel" value="SomosFodas" ng-dblclick="somosFodas(form, $index)" /-->
                            </td>
                            <td>
                                {{form.nome_municipio}}
                            </td>
                            <td>
                                <select name="" id="" class="form-control inputTable" ng-change="submeter(form)" ng-model="form.municipio_contatado">
                            <option value=""></option>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                            </td>

                            <td>
                                <select name="" id="" class="form-control inputTable" ng-change="submeter(form)" ng-model="form.oficio_enviado">
                            <option value=""></option>
                            <option value="Email respondido">Email respondido</option>
                            <option value="Email voltou">Email voltou</option>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                            </td>
                            <td>
                                <select name="" id="" class="form-control inputTable" ng-change="submeter(form)" ng-model="form.oficio_recebido">
                            <option value=""></option>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                            </td>
                            <td>
                                <select name="" id="" class="form-control inputTable" ng-change="submeter(form)" ng-model="form.link_enviado">
                            <option value=""></option>
                            <option value="Email voltou">Email voltou</option>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                            </td>
                            <td>
                                <select name="" id="" class="form-control inputTable" ng-change="submeter(form)" ng-model="form.termo_adesao">
                            <option value=""></option>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                            </td>
                            <td>
                                <select name="" id="" class="form-control inputTable" ng-change="submeter(form)" ng-model="form.termo_ok">
                            <option value=""></option>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                            <option value="Atualizado">Atualizado</option>
                            <option ng-if="form.termo_ok === 'Notificado'" value="Notificado">Notificado</option>
                        </select>
                            </td>
                            <td>
                                <select name="" id="" class="form-control inputTable" ng-change="submeter(form)" ng-model="form.ass_sei">
                            <option value=""></option>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                            </td>
                            <td>
                                <input type="text" mask="99999.999999/9999-99" ng-minlength="20" class="form-control inputTable" ng-blur="submeter(form)" ng-model="form.processo_sei">
                            </td>
                            <td>
                                <input type="text" class="form-control inputTable" ng-blur="submeter(form)" ng-model="form.nome_prefeito">
                            </td>
                            <td>
                                <input type="text" class="form-control inputTable" ng-blur="submeter(form)" ng-model="form.solicitante">
                            </td>
                            <td>
                                <input type="text" class="form-control inputTable" ng-blur="submeter(form)" ng-model="form.telefone1">
                            </td>
                            <td>
                                <input type="text" class="form-control inputTable" ng-blur="submeter(form)" ng-model="form.email1">
                            </td>
                            <td>
                                <input type="text" class="form-control inputTable" ng-blur="submeter(form)" ng-model="form.email_oficial">
                            </td>
                            <td>
                                <input type="text" class="form-control inputObs" ng-blur="submeter(form)" ng-model="form.obs">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </form>
    </div>
    <script></script>
